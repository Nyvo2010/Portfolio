<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Project — Nyvo</title>
    <link rel="icon" href="assets/Website-Logo.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
    <script src="posts.js"></script>
</head>

<body>
    <div class="cursor-dot" data-cursor-dot></div>
    <div class="cursor-outline" data-cursor-outline></div>

    <header id="top-header">
        <span>Nyvo is a dev.</span>
        <nav>
            <div id="btn-header-about"></div>
            <div id="btn-header-projects"></div>
            <div id="btn-header-contact"></div>
        </nav>
        <button class="hamburger" aria-label="Open menu" aria-expanded="false">
            <span class="hamburger-lines"></span>
        </button>
    </header>

    <main>
        <section id="post-hero">
            <div class="post-container">
                <h1 id="post-title">Project</h1>
                <div id="post-image"></div>
            </div>
        </section>

        <section id="post-body" class="post-container">
            <p id="post-meta"><em>By Nyvo</em></p>
            <div id="post-content">
                <p>This project post was generated from the project loader. Replace this content with a full write-up as
                    needed.</p>
            </div>
        </section>
    </main>

    <footer id="contact">
        <div class="section-divider footer-divider"></div>
        <div class="footer-top">
            <div class="footer-brand">
                Nyvo<br>is a<br>Dev.
                <span class="footer-copyright">&copy; 2025 All rights reserved.</span>
            </div>
            <div class="footer-info">
                <div class="footer-column">
                    <span class="column-title">Contact</span>
                    <div class="footer-links">
                        <div id="btn-footer-email"></div>
                        <div id="btn-footer-github"></div>
                        <div id="btn-footer-linkedin"></div>
                    </div>
                </div>
                <div class="footer-column">
                    <span class="column-title">Pages</span>
                    <div class="footer-links">
                        <div id="btn-footer-about"></div>
                        <div id="btn-footer-projects"></div>
                        <div id="btn-footer-contact"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="contact-button-large">
                <div id="btn-contact-getintouch"></div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(location.search);
            const slug = (params.get('project') || '').toLowerCase();

            const projects = (window.postsData || []).reduce((acc, p) => {
                acc[p.slug] = p;
                return acc;
            }, {});

            const data = projects[slug] || projects['atlas'];
            if (!data) return;

            const titleEl = document.getElementById('post-title');
            const imgHost = document.getElementById('post-image');
            const meta = document.getElementById('post-meta');
            const content = document.getElementById('post-content');

            titleEl.textContent = data.title;
            if (meta) meta.style.display = 'none';
            content.innerHTML = data.body;

            if (data.heroImage) {
                imgHost.innerHTML = `<img src="${data.heroImage}" alt="${data.title} screenshot" style="width:100%;height:auto;border-radius:5px;margin-top:1rem;">`;
            } else {
                imgHost.innerHTML = '';
            }
            document.title = `${data.title} — Nyvo`;

            const postBodySection = document.getElementById('post-body');
            if (postBodySection && data.links && data.links.length > 0) {
                const actionsWrap = document.createElement('div');
                actionsWrap.style.marginTop = '3.5rem';
                actionsWrap.style.display = 'flex';
                actionsWrap.style.gap = '1rem';
                actionsWrap.style.flexWrap = 'wrap';

                data.links.forEach(link => {
                    const btn = createTextReveal({
                        topText: link.text,
                        bottomText: link.subtext || `Open ${link.text}`,
                        fontSize: 'clamp(1.8rem, 3.8vw, 3rem)',
                        fontWeight: '500',
                        textColor: '#1A1A1A',
                        link: link.url
                    });
                    actionsWrap.appendChild(btn);
                });

                if (actionsWrap.children.length) postBodySection.appendChild(actionsWrap);
            }

            const btnAbout = createTextReveal({ topText: 'About me', bottomText: 'About me', fontSize: '1.5rem', fontWeight: '500', textColor: '#1A1A1A', link: 'post.html?project=about' });
            const elHA = document.getElementById('btn-header-about'); if (elHA) elHA.appendChild(btnAbout);
            const btnProjects = createTextReveal({ topText: 'Projects', bottomText: 'Projects', fontSize: '1.5rem', fontWeight: '500', textColor: '#1A1A1A', link: 'index.html#projects' });
            const elHP = document.getElementById('btn-header-projects'); if (elHP) elHP.appendChild(btnProjects);
            const btnContact = createTextReveal({ topText: 'Contact', bottomText: 'Contact', fontSize: '1.5rem', fontWeight: '500', textColor: '#1A1A1A', link: '#contact' });
            const elHC = document.getElementById('btn-header-contact'); if (elHC) elHC.appendChild(btnContact);

            const footerEmail = createTextReveal({ topText: 'Email', bottomText: 'Open in Email', fontSize: 'var(--font-body)', fontWeight: '400', textColor: '#1A1A1A', link: 'mailto:niekyuwen@gmail.com', extraBuffer: 18 });
            const fe = document.getElementById('btn-footer-email'); if (fe) fe.appendChild(footerEmail);
            const footerGitHub = createTextReveal({ topText: 'GitHub', bottomText: 'Open in GitHub', fontSize: 'var(--font-body)', fontWeight: '400', textColor: '#1A1A1A', link: 'https://github.com/Nyvo2010', extraBuffer: 18 });
            const fg = document.getElementById('btn-footer-github'); if (fg) fg.appendChild(footerGitHub);
            const footerLinkedIn = createTextReveal({ topText: 'LinkedIn', bottomText: 'Open in LinkedIn', fontSize: 'var(--font-body)', fontWeight: '400', textColor: '#1A1A1A', link: 'https://www.linkedin.com/in/niek-vogelaar-271222392/', extraBuffer: 18 });
            const fl = document.getElementById('btn-footer-linkedin'); if (fl) fl.appendChild(footerLinkedIn);

            const footerAbout = createTextReveal({ topText: 'About me', bottomText: 'About me', fontSize: 'var(--font-body)', fontWeight: '400', textColor: '#1A1A1A', link: 'post.html?project=about', extraBuffer: 18 });
            const fA = document.getElementById('btn-footer-about'); if (fA) fA.appendChild(footerAbout);
            const footerProjects = createTextReveal({ topText: 'Projects', bottomText: 'Projects', fontSize: 'var(--font-body)', fontWeight: '400', textColor: '#1A1A1A', link: 'index.html#projects', extraBuffer: 18 });
            const fP = document.getElementById('btn-footer-projects'); if (fP) fP.appendChild(footerProjects);
            const footerContact = createTextReveal({ topText: 'Contact', bottomText: 'Go here', fontSize: 'var(--font-body)', fontWeight: '400', textColor: '#1A1A1A', link: '#contact', extraBuffer: 18 });
            const fC = document.getElementById('btn-footer-contact'); if (fC) fC.appendChild(footerContact);

            const btnGetInTouch = createTextReveal({ topText: 'Get in touch', bottomText: 'Open email', fontSize: 'clamp(56px, 8vw, 120px)', fontWeight: '500', textColor: '#1A1A1A', link: 'mailto:niekyuwen@gmail.com', fullWidth: true });
            const gi = document.getElementById('btn-contact-getintouch'); if (gi) gi.appendChild(btnGetInTouch);
        });
    </script>
</body>

</html>